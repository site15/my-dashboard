# Мой Дашборд

Это комплексная система управления дашбордами для отображения информации на старых Android-телефонах. Пользователи создают дашборды через веб-приложение, добавляют виджеты и привязывают телефоны через QR-код. Телефон получает данные через API и отображает виджеты в реальном времени.

## Особенности

- Веб-приложение для создания и управления дашбордами
- Мобильное приложение для отображения виджетов на Android-устройствах
- Привязка устройств через QR-код
- Обновление виджетов в реальном времени
- Поддержка нескольких типов виджетов (часы, календарь, отслеживание привычек)
- Анонимный режим пользователя
- Аутентификация через Telegram
- Поддержка темной/светлой темы
- Позиционирование виджетов в сетке и настройка
- Кэширование виджетов в автономном режиме на мобильном устройстве
- Совместное использование дашбордов и шаблоны
- Ограничение частоты запросов к API и функции безопасности
- Аналитика пользователей и отчеты
- Поддержка нескольких языков
- Маркетплейс виджетов и функции автоматизации

## Демо

Приложение развернуто и доступно по адресу: https://site15-my-dashboard.vercel.app

## Обзор проекта

Этот репозиторий содержит два основных компонента:
- [Мобильное приложение](./mobile) - мобильное приложение на Ionic-Angular с возможностью сборки для Android
- [Веб-приложение](./web) - полнофункциональное веб-приложение на AnalogJS (основанное на Angular)

Для подробного технического задания и плана реализации, см. [Обзор проекта](./PROJECT_OVERVIEW_RU.md).

## Быстрый старт

### Мобильное приложение
```bash
cd mobile
npm install
ionic serve
```

### Веб-приложение
```bash
cd web
npm install
npm start
```

## Настройка локальной базы данных

Для локальной разработки вы можете использовать Docker Compose для запуска контейнера базы данных PostgreSQL. Это особенно полезно, если вы не хотите настраивать облачную базу данных для целей разработки.

### Предварительные требования

- Установленные Docker и Docker Compose в вашей системе

### Запуск базы данных

Чтобы запустить контейнер базы данных PostgreSQL, выполните:

```bash
cd web
docker-compose up -d
```

Это запустит базу данных PostgreSQL со следующей конфигурацией:
- Имя пользователя: `postgres`
- Пароль: `mydashboardpassword`
- База данных: `postgres`
- Порт: `5432` (сопоставлен с localhost:5432)

### Настройка окружения

После запуска базы данных добавьте следующее в ваш файл `web/.env`:

```
MY_DASHBOARD_DATABASE_POSTGRES_URL=postgresql://postgres:mydashboardpassword@localhost:5432/postgres
```

### Остановка базы данных

Чтобы остановить контейнер базы данных, выполните:

```bash
cd web
docker-compose down
```

### Сохранение данных базы данных

Данные базы данных сохраняются в томе Docker с именем `my-dashboard-sql-volume`. Это означает, что ваши данные будут сохраняться между перезапусками контейнеров.

Чтобы полностью удалить данные, вы можете удалить том:

```bash
cd web
docker-compose down -v
```

## Документация

- [Обзор проекта и техническое задание](./PROJECT_OVERVIEW_RU.md) ([Английская версия](./PROJECT_OVERVIEW.md))
- [Отслеживание задач проекта](./PROJECT_TASKS_RU.md) ([Английская версия](./PROJECT_TASKS.md))
- [Контекст проекта для ИИ](./AI_PROJECT_CONTEXT_RU.md) ([Английская версия](./AI_PROJECT_CONTEXT.md))
- [Техническая документация](./web/TECHNICAL_DOCUMENTATION.md)
- [Шаблоны разработки](./DEVELOPMENT_PATTERNS.md)
- [Документация мобильного приложения](./mobile/README_RU.md) ([Английская версия](./mobile/README.md))
- [Документация веб-приложения](./web/README_RU.md) ([Английская версия](./web/README.md))
- [Документация по виджетам](./web/WIDGETS_DOCUMENTATION_RU.md) ([Английская версия](./web/WIDGETS_DOCUMENTATION.md))
- [Документация UI-кита](./web/UI_KIT_DOCUMENTATION.md)

## Форматирование кода и линтинг

Веб-приложение настроено с использованием Prettier для форматирования кода и ESLint для линтинга. См. [Документацию веб-приложения](./web/README_RU.md#форматирование-кода-и-линтинг) для доступных команд.

## Сообщество

Присоединяйтесь к нашему Telegram-чату разработчиков для обсуждений, обновлений и поддержки:
- [Telegram-чат разработчиков](https://t.me/site15_community)

## Уведомления о релизах

Информация о релизах и обновлениях автоматически публикуется в нашем Telegram-чате сообщества:
- [Уведомления о релизах в Telegram](https://t.me/site15_community/3)

## Рабочий процесс GitHub Actions

Репозиторий включает рабочий процесс GitHub Actions, который автоматически собирает APK для Android и загружает его как артефакт.

## Интеграция с Vercel

Веб-приложение развернуто на Vercel, который настроен на автоматическое прослушивание изменений и повторное развертывание сайта при каждом отправке изменений в репозиторий. Vercel имеет нативную интеграцию с Neon для подключения к базе данных.

## Миграции базы данных

Миграции базы данных генерируются на основе изменения схемы Prisma и применяются с локального компьютера разработчика. Миграции должны применяться локально разработчиком и не применяются автоматически Vercel во время развертывания.

## Развертывание на Vercel

Чтобы развернуть этот проект на Vercel:

1. Подключите ваш репозиторий GitHub к Vercel
2. Во время настройки Vercel автоматически обнаружит переменные окружения
3. Добавьте ваш `MY_DASHBOARD_DATABASE_POSTGRES_URL` как переменную окружения в настройках проекта Vercel

## Устранение неполадок

Для решения распространенных проблем с веб-приложением, включая проблемы с аутентификацией через Telegram, пожалуйста, обратитесь к [Документации веб-приложения](./web/README_RU.md#устранение-неполадок).