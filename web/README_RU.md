# my-dashboard

Этот проект был создан с помощью [Analog](https://analogjs.org), полнофункционального мета-фреймворка для Angular.

## Демо

Приложение развернуто и доступно по адресу: https://site15-my-dashboard.vercel.app

## Настройка

Выполните `npm install` чтобы установить зависимости приложения.

## Настройка базы данных

Этот проект использует базу данных PostgreSQL. Мы рекомендуем использовать [Neon](https://neon.tech/) для облачного хостинга, так как он предоставляет щедрый бесплатный тариф и не засыпает, как некоторые другие бесплатные варианты.

Чтобы настроить базу данных:

1. Создайте базу данных в облаке с помощью [Neon](https://neon.tech/)
2. Скопируйте строку подключения в ваш файл `.env`:
   ```
   MY_DASHBOARD_DATABASE_POSTGRES_URL=ваша_строка_подключения_neon_здесь
   ```

Альтернативные варианты баз данных:
- [Supabase](https://supabase.com/) - Может засыпать на бесплатном тарифе
- [CockroachCloud](https://www.cockroachlabs.com/) - Имеет пробный период

Neon рекомендуется, потому что он обеспечивает хороший баланс функций, производительности и стоимости для разработки.

## Миграции базы данных

Миграции базы данных генерируются на основе изменения схемы Prisma и применяются с локального компьютера разработчика:

1. Измените файл `prisma/schema.prisma`, чтобы внести изменения в структуру вашей базы данных
2. Выполните `./node_modules/.bin/prisma migrate dev` для генерации и применения миграций локально
3. Зафиксируйте сгенерированные файлы миграций в системе контроля версий

Примечание: Миграции должны применяться локально разработчиком и не применяются автоматически Vercel во время развертывания.

## Настройка Prisma

Этот проект использует Prisma в качестве ORM. После настройки базы данных:

1. Установите `dotenv` и добавьте `import "dotenv/config";` в ваш файл `prisma.config.ts` для загрузки переменных окружения из `.env`:
   ```typescript
   import "dotenv/config";
   import { defineConfig, env } from "prisma/config";
   
   export default defineConfig({
     // ... существующая конфигурация
   });
   ```

2. Определите ваши модели в файле `prisma/schema.prisma`.

3. Выполните `./node_modules/.bin/prisma migrate dev` для миграции вашей базы данных.

Примечание: Переменные окружения, объявленные в файле `.env`, НЕ загружаются автоматически Prisma. Вы должны явно импортировать `dotenv/config`.

## Зеркало движков Prisma

При установке зависимостей Node.js вы можете столкнуться с проблемами блокировки движков Prisma брандмауэрами или региональными ограничениями. Чтобы решить эту проблему, установите следующую переменную окружения перед установкой зависимостей:

```bash
export PRISMA_ENGINES_MIRROR=https://registry.npmmirror.com/-/binary/prisma
```

Это перенаправит загрузку движков Prisma на зеркало, которое более доступно из определенных регионов.

## Развертывание на Vercel

Этот проект можно развернуть на Vercel. Vercel имеет нативную интеграцию с Neon, что упрощает подключение вашей базы данных:

1. Подключите ваш репозиторий GitHub к Vercel
2. Во время настройки Vercel автоматически обнаружит переменные окружения
3. Добавьте ваш `MY_DASHBOARD_DATABASE_POSTGRES_URL` как переменную окружения в настройках проекта Vercel

Vercel настроен на автоматическое прослушивание изменений и повторное развертывание сайта при каждом отправке изменений в репозиторий.

## Разработка

Выполните `npm start` для запуска сервера разработки. Перейдите по адресу `http://localhost:5173/`. Приложение автоматически перезагружается при изменении исходных файлов.

## Сборка

Выполните `npm run build` для сборки клиент/сервер проекта. Артефакты сборки клиента расположены в каталоге `dist/analog/public`. Сервер для артефактов сборки API расположен в каталоге `dist/analog/server`.

## Тестирование

Выполните `npm run test` для запуска модульных тестов с помощью [Vitest](https://vitest.dev).

## Сообщество

- Посетите и поставьте звезду [репозиторию на GitHub](https://github.com/analogjs/analog)
- Присоединяйтесь к [Discord](https://chat.analogjs.org)
- Подписывайтесь на нас в [Twitter](https://twitter.com/analogjs)
- Станьте [спонсором](https://github.com/sponsors/brandonroberts)